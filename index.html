<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ê·¼ë¬´ í˜„í™©í‘œ ìƒì„±ê¸°</title>
    <style>
        /* ê¸°ë³¸ ìŠ¤íƒ€ì¼ */
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Malgun Gothic", "ë§‘ì€ ê³ ë”•", sans-serif;
            margin: 0;
            padding: 20px;
            background-color: #f4f7f6;
            color: #333;
        }

        .container {
            max-width: 1000px;
            margin: 0 auto;
            background-color: #ffffff;
            padding: 25px;
            border-radius: 10px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
        }

        header {
            text-align: center;
            margin-bottom: 25px;
            border-bottom: 2px solid #0056b3;
            padding-bottom: 15px;
        }

        h1 {
            color: #0056b3;
            margin: 0;
        }

        .controls {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 25px;
            padding: 20px;
            background-color: #fdfdfd;
            border: 1px solid #e0e0e0;
            border-radius: 8px;
        }

        .control-group {
            display: flex;
            flex-direction: column;
        }

        .control-group label {
            font-weight: 600;
            margin-bottom: 8px;
            color: #555;
        }

        .control-group select,
        .control-group input[type="date"],
        .control-group input[type="text"] {
            padding: 12px;
            border: 1px solid #ccc;
            border-radius: 6px;
            font-size: 16px;
            background-color: #fff;
        }

        .actions {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            justify-content: center;
            margin-bottom: 25px;
        }

        .actions button {
            padding: 12px 20px;
            font-size: 16px;
            font-weight: 600;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            transition: background-color 0.3s ease;
            background-color: #007bff;
            color: white;
        }

        .actions button.print-btn {
            background-color: #28a745;
        }

        .actions button.save-btn {
            background-color: #ffc107;
            color: #333;
        }
        
        .actions button.load-btn {
            background-color: #17a2b8;
        }

        .actions button:hover {
            opacity: 0.85;
        }

        /* ê·¼ë¬´í‘œ í…Œì´ë¸” */
        #schedule-container {
            overflow-x: auto; /* ëª¨ë°”ì¼ì—ì„œ ê°€ë¡œ ìŠ¤í¬ë¡¤ */
        }

        #schedule-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
            border: 1px solid #ddd;
        }

        #schedule-table th,
        #schedule-table td {
            border: 1px solid #ddd;
            padding: 12px;
            text-align: center;
            min-width: 100px;
            font-size: 14px;
        }

        #schedule-table th {
            background-color: #0056b3;
            color: white;
            font-weight: 600;
        }

        #schedule-table tbody tr:nth-child(even) {
            background-color: #f9f9f9;
        }

        #schedule-table td input[type="text"] {
            width: 90%;
            padding: 8px;
            border: 1px solid #eee;
            border-radius: 4px;
            text-align: center;
        }
        
        #schedule-table td input[type="text"]:focus {
            outline: 2px solid #007bff;
            border-color: #007bff;
        }
        
        /* ê¸°ì‚¬ ê´€ë¦¬ */
        .driver-management {
            margin-top: 30px;
            padding-top: 20px;
            border-top: 1px solid #e0e0e0;
        }

        .driver-management h3 {
            color: #0056b3;
        }

        /* ---------------------------------- */
        /* â˜… íœ´ëŒ€í° ì¸ì‡„ë¥¼ ìœ„í•œ ìŠ¤íƒ€ì¼ â˜… */
        /* ---------------------------------- */
        @media print {
            /* ì¸ì‡„ ì‹œ ë¶ˆí•„ìš”í•œ ìš”ì†Œ ìˆ¨ê¸°ê¸° */
            body {
                padding: 0;
                margin: 0;
                background-color: #fff; /* ë°°ê²½ìƒ‰ í°ìƒ‰ìœ¼ë¡œ */
            }

            .controls,
            .actions,
            .driver-management,
            #schedule-table input {
                display: none !important; /* ì„¤ì •, ë²„íŠ¼, ê¸°ì‚¬ê´€ë¦¬, ì…ë ¥ì¹¸ ëª¨ë‘ ìˆ¨ê¹€ */
            }
            
            #schedule-table th,
            #schedule-table td {
                font-size: 10pt !important; /* ê¸€ì í¬ê¸° ì¡°ì ˆ */
                padding: 8px !important;
                color: #000 !important; /* ëª¨ë“  ê¸€ì ê²€ì€ìƒ‰ */
            }
            
            #schedule-table th {
                 background-color: #dfdfdf !important; /* í—¤ë” ë°°ê²½ ì—°í•œ íšŒìƒ‰ */
                 -webkit-print-color-adjust: exact; /* ë°°ê²½ìƒ‰ ì¸ì‡„ ê°•ì œ */
                 color-adjust: exact;
            }

            .container {
                box-shadow: none;
                border: none;
                padding: 0;
                margin: 0;
                width: 100%;
                max-width: 100%;
            }

            header {
                border-bottom: 2px solid #000;
            }
            
            h1 {
                color: #000;
                font-size: 16pt;
            }

            /* í…Œì´ë¸” ì…€ì— ì…ë ¥ëœ ê°’ë§Œ ë³´ì´ë„ë¡ ì²˜ë¦¬ (JSì—ì„œ ê°’ ë³µì‚¬ í•„ìš”) */
            .printable-content {
                display: block;
                font-weight: normal;
            }

            /* í˜ì´ì§€ ë‚˜ëˆ„ê¸° ë°©ì§€ */
            table, tr, td, th, tbody, thead, tfoot {
                page-break-inside: avoid !important;
            }
        }
    </style>
</head>
<body>

    <div class="container">
        <header>
            <h1 id="schedule-title">(ì£¼)ì™€ë£¡ìš´ìˆ˜ ê·¼ë¬´ í˜„í™©í‘œ</h1>
        </header>

        <section class="controls">
            <div class="control-group">
                <label for="company-select">íšŒì‚¬ ì„ íƒ</label>
                <select id="company-select">
                    <option value="ì™€ë£¡ìš´ìˆ˜">(ì£¼)ì™€ë£¡ìš´ìˆ˜</option>
                    <option value="ë‚™ì‚°ìš´ìˆ˜">(ì£¼)ë‚™ì‚°ìš´ìˆ˜</option>
                </select>
            </div>
            <div class="control-group">
                <label for="route-select">ë…¸ì„  ì„ íƒ</label>
                <select id="route-select">
                    <option value="ì¢…ë¡œ07">ì¢…ë¡œ07</option>
                    <option value="ì¢…ë¡œ08">ì¢…ë¡œ08</option>
                    </select>
            </div>
            <div class="control-group">
                <label for="schedule-date">ê¸°ì¤€ ë‚ ì§œ</label>
                <input type="date" id="schedule-date">
            </div>
        </section>

        <section class="actions">
            <button id="create-schedule-btn">ì£¼ê°„ í‘œ ìƒì„±</button>
            <button id="add-row-btn">ê¸°ì‚¬ í–‰ ì¶”ê°€</button>
            <button class="print-btn" onclick="window.print();">ğŸ–¨ï¸ ì¸ì‡„í•˜ê¸°</button>
            <button class="save-btn" id="save-data-btn">ğŸ’¾ ì €ì¥í•˜ê¸°</button>
            <button class="load-btn" id="load-data-btn">ğŸ“‚ ë¶ˆëŸ¬ì˜¤ê¸°</button>
        </section>

        <section id="schedule-container">
            <table id="schedule-table">
                <thead>
                    <tr id="date-header-row">
                        <th>ê¸°ì‚¬ëª…</th>
                        </tr>
                </thead>
                <tbody id="schedule-body">
                    </tbody>
            </table>
        </section>

        <section class="driver-management">
            <h3>ê¸°ì‚¬ ê´€ë¦¬</h3>
            <div class="control-group">
                <label for="driver-name-input">ìƒˆ ê¸°ì‚¬ ì´ë¦„:</label>
                <input type="text" id="driver-name-input" placeholder="ì˜ˆ: í™ê¸¸ë™">
            </div>
            <button id="add-driver-btn">ê¸°ì‚¬ ëª©ë¡ì— ì¶”ê°€</button>
            <h4>ê¸°ì‚¬ ëª©ë¡ (í´ë¦­ ì‹œ í‘œì— ì¶”ê°€)</h4>
            <ul id="driver-list">
                </ul>
        </section>
    </div>

    <script>
        // DOM(ë¬¸ì„œ)ì´ ëª¨ë‘ ë¡œë“œë˜ì—ˆì„ ë•Œ ìŠ¤í¬ë¦½íŠ¸ ì‹¤í–‰
document.addEventListener('DOMContentLoaded', () => {

    // --- 1. ì£¼ìš” HTML ìš”ì†Œ ê°€ì ¸ì˜¤ê¸° ---
    const companySelect = document.getElementById('company-select');
    const routeSelect = document.getElementById('route-select');
    const scheduleDateInput = document.getElementById('schedule-date');
    const scheduleTitle = document.getElementById('schedule-title');
    const createScheduleBtn = document.getElementById('create-schedule-btn');
    const addRowBtn = document.getElementById('add-row-btn');
    const dateHeaderRow = document.getElementById('date-header-row');
    const scheduleBody = document.getElementById('schedule-body');
    const driverNameInput = document.getElementById('driver-name-input');
    const addDriverBtn = document.getElementById('add-driver-btn');
    const driverListUl = document.getElementById('driver-list');
    const saveDataBtn = document.getElementById('save-data-btn');
    const loadDataBtn = document.getElementById('load-data-btn');
    const printBtn = document.querySelector('.print-btn'); // ì¸ì‡„ ë²„íŠ¼

    // ê¸°ì‚¬ ëª©ë¡ì„ ê´€ë¦¬í•  ë°°ì—´
    let driverMasterList = [];

    // --- 2. í•µì‹¬ ê¸°ëŠ¥ í•¨ìˆ˜ ---

    /**
     * ë‚ ì§œë¥¼ 'MM/DD (ìš”ì¼)' í˜•ì‹ìœ¼ë¡œ ë³€í™˜í•˜ëŠ” í•¨ìˆ˜
     * @param {Date} date - ë³€í™˜í•  ë‚ ì§œ ê°ì²´
     * @returns {string} - "11/05 (ìˆ˜)" í˜•ì‹ì˜ ë¬¸ìì—´
     */
    function formatDate(date) {
        const month = String(date.getMonth() + 1).padStart(2, '0');
        const day = String(date.getDate()).padStart(2, '0');
        const weekdays = ['ì¼', 'ì›”', 'í™”', 'ìˆ˜', 'ëª©', 'ê¸ˆ', 'í† '];
        const weekday = weekdays[date.getDay()];
        return `${month}/${day} (${weekday})`;
    }

    /**
     * ê¸°ë³¸ ë‚ ì§œë¥¼ ì˜¤ëŠ˜ ë‚ ì§œë¡œ ì„¤ì •
     */
    function initializeDate() {
        const today = new Date();
        const yyyy = today.getFullYear();
        const mm = String(today.getMonth() + 1).padStart(2, '0');
        const dd = String(today.getDate()).padStart(2, '0');
        scheduleDateInput.value = `${yyyy}-${mm}-${dd}`;
    }

    /**
     * ì£¼ê°„ ê·¼ë¬´í‘œ í—¤ë”(ë‚ ì§œ) ìƒì„±
     */
    function createScheduleHeader() {
        // ê¸°ì¡´ í—¤ë” ë‚´ìš© ì‚­ì œ
        dateHeaderRow.innerHTML = '<th>ê¸°ì‚¬ëª…</th>';
        
        const baseDate = new Date(scheduleDateInput.value || new Date());
        
        for (let i = 0; i < 7; i++) {
            const currentDate = new Date(baseDate);
            currentDate.setDate(baseDate.getDate() + i);
            
            const th = document.createElement('th');
            th.textContent = formatDate(currentDate);
            dateHeaderRow.appendChild(th);
        }
        
        // ë§ˆì§€ë§‰ì— 'ì‚­ì œ' ì—´ ì¶”ê°€
        const deleteHeader = document.createElement('th');
        deleteHeader.textContent = 'ê´€ë¦¬';
        dateHeaderRow.appendChild(deleteHeader);
    }

    /**
     * ê·¼ë¬´í‘œì— ê¸°ì‚¬ í•œ í–‰ì„ ì¶”ê°€í•˜ëŠ” í•¨ìˆ˜
     * @param {string} driverName - ì¶”ê°€í•  ê¸°ì‚¬ ì´ë¦„
     * @param {string[]} scheduleValues - (ë¶ˆëŸ¬ì˜¤ê¸°ìš©) 7ì¼ê°„ì˜ ê·¼ë¬´ ë‚´ìš© ë°°ì—´
     */
    function addDriverRow(driverName, scheduleValues = []) {
        const tr = document.createElement('tr');
        
        // 1. ê¸°ì‚¬ëª… ì…€
        const nameCell = document.createElement('td');
        nameCell.textContent = driverName;
        tr.appendChild(nameCell);
        
        // 2. 7ì¼ê°„ì˜ ê·¼ë¬´ ì…ë ¥ ì…€
        for (let i = 0; i < 7; i++) {
            const td = document.createElement('td');
            const input = document.createElement('input');
            input.type = 'text';
            input.value = scheduleValues[i] || ''; // ë¶ˆëŸ¬ì˜¨ ê°’ì´ ìˆìœ¼ë©´ ì±„ìš°ê¸°
            td.appendChild(input);
            tr.appendChild(td);
        }
        
        // 3. í–‰ ì‚­ì œ ë²„íŠ¼ ì…€
        const deleteCell = document.createElement('td');
        const deleteBtn = document.createElement('button');
        deleteBtn.textContent = 'ì‚­ì œ';
        deleteBtn.style.color = 'red';
        deleteBtn.style.fontSize = '12px';
        deleteBtn.onclick = () => {
            if (confirm(`'${driverName}' ê¸°ì‚¬ë‹˜ í–‰ì„ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?`)) {
                tr.remove();
            }
        };
        deleteCell.appendChild(deleteBtn);
        tr.appendChild(deleteCell);
        
        scheduleBody.appendChild(tr);
    }

    /**
     * ê¸°ì‚¬ ë§ˆìŠ¤í„° ëª©ë¡ì„ í™”ë©´(ul)ì— ë‹¤ì‹œ ê·¸ë¦¬ëŠ” í•¨ìˆ˜
     */
    function renderDriverList() {
        driverListUl.innerHTML = ''; // ëª©ë¡ ë¹„ìš°ê¸°
        
        driverMasterList.forEach((name, index) => {
            const li = document.createElement('li');
            
            // ê¸°ì‚¬ ì´ë¦„ (í´ë¦­ ì‹œ í‘œì— ì¶”ê°€)
            const nameSpan = document.createElement('span');
            nameSpan.textContent = name;
            nameSpan.style.cursor = 'pointer';
            nameSpan.title = 'í´ë¦­í•˜ì—¬ í‘œì— ì¶”ê°€';
            nameSpan.onclick = () => {
                addDriverRow(name);
            };
            
            // ê¸°ì‚¬ ì‚­ì œ ë²„íŠ¼
            const deleteBtn = document.createElement('button');
            deleteBtn.textContent = 'X';
            deleteBtn.style.marginLeft = '10px';
            deleteBtn.style.color = 'gray';
            deleteBtn.title = 'ëª©ë¡ì—ì„œ ì‚­ì œ';
            deleteBtn.onclick = (e) => {
                e.stopPropagation(); // liì˜ í´ë¦­ ì´ë²¤íŠ¸ ë°©ì§€
                if (confirm(`'${name}' ê¸°ì‚¬ë‹˜ì„ ëª©ë¡ì—ì„œ ì˜êµ¬ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?`)) {
                    driverMasterList.splice(index, 1); // ë°°ì—´ì—ì„œ ì‚­ì œ
                    saveDrivers(); // ë³€ê²½ì‚¬í•­ ì €ì¥
                    renderDriverList(); // ëª©ë¡ ìƒˆë¡œê³ ì¹¨
                }
            };
            
            li.appendChild(nameSpan);
            li.appendChild(deleteBtn);
            driverListUl.appendChild(li);
        });
    }

    /**
     * ê¸°ì‚¬ ëª©ë¡ì„ ë¸Œë¼ìš°ì €ì— ì €ì¥
     */
    function saveDrivers() {
        localStorage.setItem('driverMasterList', JSON.stringify(driverMasterList));
    }

    /**
     * ë¸Œë¼ìš°ì €ì—ì„œ ê¸°ì‚¬ ëª©ë¡ ë¶ˆëŸ¬ì˜¤ê¸°
     */
    function loadDrivers() {
        const savedDrivers = localStorage.getItem('driverMasterList');
        if (savedDrivers) {
            driverMasterList = JSON.parse(savedDrivers);
        } else {
            // ì´ì „ì— ëŒ€í™”í–ˆë˜ ë‚´ìš©ì„ ë°”íƒ•ìœ¼ë¡œ ê¸°ë³¸ ê¸°ì‚¬ ëª©ë¡ ì œê³µ
            driverMasterList = ['ì˜¤ì¸ì¤‘', 'í™ê¸¸ë™', 'ê¹€ì² ìˆ˜', 'ì´ì˜í¬'];
        }
        renderDriverList();
    }

    /**
     * í˜„ì¬ ê·¼ë¬´í‘œ ìƒíƒœë¥¼ ë¸Œë¼ìš°ì €ì— ì €ì¥
     */
    function saveSchedule() {
        const scheduleData = [];
        // í˜„ì¬ í‘œì— ìˆëŠ” ëª¨ë“  í–‰(tr)ì„ ìˆœíšŒ
        scheduleBody.querySelectorAll('tr').forEach(tr => {
            const cells = tr.querySelectorAll('td');
            const driverName = cells[0].textContent; // ì²« ë²ˆì§¸ ì…€ì€ ê¸°ì‚¬ ì´ë¦„
            const values = [];
            // 1ë²ˆ ì¸ë±ìŠ¤ë¶€í„° 7ë²ˆ ì¸ë±ìŠ¤ê¹Œì§€ (7ì¼ê°„)
            for (let i = 1; i <= 7; i++) {
                values.push(cells[i].querySelector('input').value);
            }
            scheduleData.push({ name: driverName, schedule: values });
        });
        
        const dataToSave = {
            company: companySelect.value,
            route: routeSelect.value,
            date: scheduleDateInput.value,
            schedule: scheduleData
        };
        
        localStorage.setItem('savedScheduleData', JSON.stringify(dataToSave));
        alert('í˜„ì¬ ê·¼ë¬´í‘œê°€ ë¸Œë¼ìš°ì €ì— ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤.');
    }

    /**
     * ë¸Œë¼ìš°ì €ì—ì„œ ì €ì¥ëœ ê·¼ë¬´í‘œ ë¶ˆëŸ¬ì˜¤ê¸°
     */
    function loadSchedule() {
        const savedData = localStorage.getItem('savedScheduleData');
        if (savedData) {
            if (!confirm('ì €ì¥ëœ ê·¼ë¬´í‘œë¥¼ ë¶ˆëŸ¬ì˜¤ì‹œê² ìŠµë‹ˆê¹Œ? í˜„ì¬ ë‚´ìš©ì€ ì‚¬ë¼ì§‘ë‹ˆë‹¤.')) {
                return;
            }
            
            const data = JSON.parse(savedData);
            
            // 1. ì„¤ì •ê°’ ë³µì›
            companySelect.value = data.company;
            routeSelect.value = data.route;
            scheduleDateInput.value = data.date;
            
            // 2. ì œëª© ë³€ê²½
            scheduleTitle.textContent = `(${companySelect.value}) ${routeSelect.value} ê·¼ë¬´ í˜„í™©í‘œ`;
            
            // 3. í—¤ë” ìƒì„±
            createScheduleHeader();
            
            // 4. í…Œì´ë¸” ë‚´ìš© ë¹„ìš°ê¸°
            scheduleBody.innerHTML = '';
            
            // 5. ì €ì¥ëœ ê·¼ë¬´ ë‚´ìš©ìœ¼ë¡œ í–‰ ì¶”ê°€
            data.schedule.forEach(item => {
                addDriverRow(item.name, item.schedule);
            });
            
            alert('ê·¼ë¬´í‘œë¥¼ ë¶ˆëŸ¬ì™”ìŠµë‹ˆë‹¤.');
        } else {
            alert('ì €ì¥ëœ ê·¼ë¬´í‘œ ë°ì´í„°ê°€ ì—†ìŠµë‹ˆë‹¤.');
        }
    }


    // --- 3. â˜… ì¸ì‡„ ê¸°ëŠ¥ ì²˜ë¦¬ (íœ´ëŒ€í° ì¸ì‡„ í•µì‹¬) â˜… ---

    /**
     * ì¸ì‡„ ì§ì „: ì…ë ¥ì°½(input)ì˜ ê°’ì„ í…ìŠ¤íŠ¸(span)ë¡œ ë³µì‚¬í•´ì„œ ì…€ì— ì¶”ê°€
     */
    function prepareForPrint() {
        // í…Œì´ë¸”ì˜ ëª¨ë“  ì…ë ¥ì°½(input)ì„ ì°¾ìŒ
        const inputs = scheduleBody.querySelectorAll('input[type="text"]');
        
        inputs.forEach(input => {
            const value = input.value;
            const parentTd = input.parentElement;
            
            // ì¸ì‡„ìš© í…ìŠ¤íŠ¸(span) ìƒì„±
            const printSpan = document.createElement('span');
            printSpan.textContent = value;
            printSpan.className = 'printable-content'; // CSSì—ì„œ ì´ í´ë˜ìŠ¤ë¥¼ ì‚¬ìš©
            
            // í…ìŠ¤íŠ¸ë¥¼ ë¶€ëª¨ ì…€(td)ì— ì¶”ê°€
            parentTd.appendChild(printSpan);
        });
    }

    /**
     * ì¸ì‡„ ì§í›„: ì¸ì‡„ìš©ìœ¼ë¡œ ì¶”ê°€í–ˆë˜ í…ìŠ¤íŠ¸(span)ë¥¼ ëª¨ë‘ ì œê±°
     */
    function cleanupAfterPrint() {
        const printSpans = document.querySelectorAll('.printable-content');
        printSpans.forEach(span => {
            span.remove();
        });
    }

    // ë¸Œë¼ìš°ì €ì˜ ì¸ì‡„ ì´ë²¤íŠ¸ì— ìœ„ í•¨ìˆ˜ë“¤ì„ ì—°ê²°
    window.addEventListener('beforeprint', prepareForPrint);
    window.addEventListener('afterprint', cleanupAfterPrint);
    
    // 'ì¸ì‡„í•˜ê¸°' ë²„íŠ¼ í´ë¦­ ì‹œ
    printBtn.addEventListener('click', () => {
        window.print(); // ë¸Œë¼ìš°ì €ì˜ ì¸ì‡„ ëŒ€í™”ìƒì ì—´ê¸°
    });


    // --- 4. ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ì—°ê²° ---

    // 'ì£¼ê°„ í‘œ ìƒì„±' ë²„íŠ¼
    createScheduleBtn.addEventListener('click', () => {
        createScheduleHeader(); // í—¤ë” ìƒì„±
        scheduleBody.innerHTML = ''; // ê¸°ì¡´ ë‚´ìš© ì‚­ì œ
    });

    // 'ê¸°ì‚¬ í–‰ ì¶”ê°€' ë²„íŠ¼ (ë¹ˆ í–‰ ì¶”ê°€)
    addRowBtn.addEventListener('click', () => {
        addDriverRow('ê¸°ì‚¬ëª… ì…ë ¥');
    });

    // 'ê¸°ì‚¬ ëª©ë¡ì— ì¶”ê°€' ë²„íŠ¼
    addDriverBtn.addEventListener('click', () => {
        const newName = driverNameInput.value.trim();
        if (newName && !driverMasterList.includes(newName)) {
            driverMasterList.push(newName);
            saveDrivers(); // ì €ì¥
            renderDriverList(); // ëª©ë¡ ìƒˆë¡œê³ ì¹¨
            driverNameInput.value = ''; // ì…ë ¥ì°½ ë¹„ìš°ê¸°
        } else if (driverMasterList.includes(newName)) {
            alert('ì´ë¯¸ ëª©ë¡ì— ìˆëŠ” ì´ë¦„ì…ë‹ˆë‹¤.');
        }
    });

    // 'ì €ì¥í•˜ê¸°' ë²„íŠ¼
    saveDataBtn.addEventListener('click', saveSchedule);

    // 'ë¶ˆëŸ¬ì˜¤ê¸°' ë²„íŠ¼
    loadDataBtn.addEventListener('click', loadSchedule);

    // 'íšŒì‚¬ ì„ íƒ' ì‹œ ì œëª© ë³€ê²½
    companySelect.addEventListener('change', () => {
        scheduleTitle.textContent = `(${companySelect.value}) ${routeSelect.value} ê·¼ë¬´ í˜„í™©í‘œ`;
    });
    
    // 'ë…¸ì„  ì„ íƒ' ì‹œ ì œëª© ë³€ê²½
    routeSelect.addEventListener('change', () => {
        scheduleTitle.textContent = `(${companySelect.value}) ${routeSelect.value} ê·¼ë¬´ í˜„í™©í‘œ`;
    });

    // --- 5. ì•± ì´ˆê¸° ì‹¤í–‰ ---
    initializeDate();   // ë‚ ì§œ ì´ˆê¸°í™”
    loadDrivers();      // ê¸°ì‚¬ ëª©ë¡ ë¶ˆëŸ¬ì˜¤ê¸°
    createScheduleHeader(); // ê¸°ë³¸ í—¤ë” ìƒì„±
});

    </script>
</body>
</html>


